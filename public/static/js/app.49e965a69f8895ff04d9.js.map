{"version":3,"sources":["webpack:///static/js/app.49e965a69f8895ff04d9.js","webpack:///./src/components/ChatPanel.vue","webpack:///./src/components/Rooms.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a594","webpack:///./src/App.vue","webpack:///src/components/HelloWorld.vue","webpack:///./src/components/HelloWorld.vue?d658","webpack:///./src/components/HelloWorld.vue","webpack:///src/components/ChatPanel.vue","webpack:///./src/components/ChatPanel.vue?89d7","webpack:///src/components/Rooms.vue","webpack:///./src/components/Rooms.vue?e394","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["webpackJsonp","0","module","exports","1","I2dU","NHnr","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","Rooms_injectStyle","Object","defineProperty","value","vue_esm","App","name","methods","logout","_this","this","http","get","then","res","body","localStorage","removeItem","$router","replace","console","log","render","_vm","_h","$createElement","_c","_self","attrs","id","mode","background-color","text-color","active-text-color","index","on","click","_v","staticRenderFns","esExports","selectortype_template_index_0_src_App","normalizeComponent","Component","src_App","vue_resource_es2015","vue_router_esm","HelloWorld","data","status","form","username","password","onSubmit","post","setItem","HelloWorld_render","staticStyle","margin-top","span","offset","ref","model","label-width","label","callback","$$v","$set","expression","type","_s","HelloWorld_staticRenderFns","HelloWorld_esExports","components_HelloWorld","HelloWorld_normalizeComponent","HelloWorld_Component","src_components_HelloWorld","lib","lib_default","n","ChatPanel","socket","query","u","getItem","r","current_room","msgs","temp_msg","created","msg","push","send","emit","tableRowClassName","_ref","row","rowIndex","who","goRooms","close","ChatPanel_render","text-align","staticClass","round","width","row-class-name","prop","gutter","submit","$event","preventDefault","ChatPanel_staticRenderFns","ChatPanel_esExports","components_ChatPanel","ChatPanel_normalizeComponent","ChatPanel___vue_styles__","ChatPanel_Component","src_components_ChatPanel","Rooms","my_rooms","all_rooms","new_room_name","mounted","join_rooms","allrooms","map","room","_id","catch","err","enter","roomid","leave","_this2","action","userid","indexOf","splice","join","_this3","_this4","Rooms_render","_l","key","disabled","Rooms_staticRenderFns","Rooms_esExports","components_Rooms","Rooms_normalizeComponent","Rooms___vue_styles__","Rooms_Component","src_components_Rooms","use","router","routes","path","component","beforeEnter","to","from","next","element_ui_common","element_ui_common_default","en","en_default","config","productionTip","a","locale","el","template","components","gUej","tvR6"],"mappings":"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","file":"static/js/app.49e965a69f8895ff04d9.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 1:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ \"I2dU\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./node_modules/vue/dist/vue.esm.js\nvar vue_esm = __webpack_require__(\"7+uW\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/App.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var App = ({\n  name: 'app',\n  methods: {\n    logout: function logout() {\n      var _this = this;\n\n      vue_esm[\"default\"].http.get('/auth/logout').then(function (res) {\n        if (res.body === 'logout success!') {\n          localStorage.removeItem('userid');\n          localStorage.removeItem('current_room');\n          localStorage.removeItem('joined_rooms');\n          _this.$router.replace('/');\n        } else {\n          console.log('logout failed!');\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-399e026a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-menu',{attrs:{\"mode\":\"horizontal\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"}},[_c('el-menu-item',{attrs:{\"index\":\"1\"},on:{\"click\":_vm.logout}},[_vm._v(\"Log Out\")])],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ var selectortype_template_index_0_src_App = (esExports);\n// CONCATENATED MODULE: ./src/App.vue\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  App,\n  selectortype_template_index_0_src_App,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ var src_App = (Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/vue-resource/dist/vue-resource.es2015.js\nvar vue_resource_es2015 = __webpack_require__(\"ORbq\");\n\n// EXTERNAL MODULE: ./node_modules/vue-router/dist/vue-router.esm.js\nvar vue_router_esm = __webpack_require__(\"/ocq\");\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/HelloWorld.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var HelloWorld = ({\n  data: function data() {\n    return {\n      status: '',\n      form: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n\n  methods: {\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      vue_esm[\"default\"].http.post('/auth/login', { username: this.form.username, password: this.form.password }).then(function (res) {\n        if (res.body === 'login success') {\n          _this.status = 'login success';\n          localStorage.setItem('userid', _this.form.username);\n          _this.$router.replace('/rooms');\n        } else {\n          _this.status = res.body;\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3176a0f2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\nvar HelloWorld_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticStyle:{\"margin-top\":\"7%\"}},[_c('el-col',{attrs:{\"span\":8,\"offset\":7}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"password\"}},[_c('el-input',{model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Login\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"Cancel\")])],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.status))])],1)],1)],1)}\nvar HelloWorld_staticRenderFns = []\nvar HelloWorld_esExports = { render: HelloWorld_render, staticRenderFns: HelloWorld_staticRenderFns }\n/* harmony default export */ var components_HelloWorld = (HelloWorld_esExports);\n// CONCATENATED MODULE: ./src/components/HelloWorld.vue\nvar HelloWorld_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar HelloWorld___vue_template_functional__ = false\n/* styles */\nvar HelloWorld___vue_styles__ = null\n/* scopeId */\nvar HelloWorld___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar HelloWorld___vue_module_identifier__ = null\nvar HelloWorld_Component = HelloWorld_normalizeComponent(\n  HelloWorld,\n  components_HelloWorld,\n  HelloWorld___vue_template_functional__,\n  HelloWorld___vue_styles__,\n  HelloWorld___vue_scopeId__,\n  HelloWorld___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_HelloWorld = (HelloWorld_Component.exports);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/lib/index.js\nvar lib = __webpack_require__(\"DmT9\");\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/ChatPanel.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var ChatPanel = ({\n  data: function data() {\n    var socket = lib_default()('http://localhost:8080', {\n      query: { u: localStorage.getItem('userid'), r: localStorage.getItem('current_room') }\n    });\n\n    return {\n      socket: socket,\n      current_room: localStorage.getItem('current_room'),\n      msgs: [],\n      temp_msg: ''\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.socket.on('chat', function (msg) {\n      _this.msgs.push(msg);\n    });\n  },\n\n  methods: {\n    send: function send(temp_msg) {\n      this.socket.emit('chat', temp_msg);\n      this.temp_msg = '';\n    },\n    tableRowClassName: function tableRowClassName(_ref) {\n      var row = _ref.row,\n          rowIndex = _ref.rowIndex;\n\n      if (row.who === localStorage.getItem('userid')) {\n        return 'your-word';\n      }\n      return '';\n    },\n    goRooms: function goRooms() {\n      this.socket.close();\n      this.$router.replace('/rooms');\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28f88c8d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatPanel.vue\nvar ChatPanel_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('h4',{staticStyle:{\"text-align\":\"left\"}},[_c('i',{staticClass:\"el-icon-star-on\"}),_vm._v(\" \"+_vm._s(_vm.current_room)+\" \"),_c('i',{staticClass:\"el-icon-star-on\"})])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.goRooms}},[_vm._v(\"Go Back\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.msgs,\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"who\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"msg\"}})],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('form',{ref:\"form\",attrs:{\"id\":\"fix-form\"},on:{\"submit\":function($event){$event.preventDefault();_vm.send(_vm.temp_msg)}}},[_c('el-col',{attrs:{\"span\":22}},[_c('el-input',{model:{value:(_vm.temp_msg),callback:function ($$v) {_vm.temp_msg=$$v},expression:\"temp_msg\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":function($event){_vm.send(_vm.temp_msg)}}},[_vm._v(\"Send\")])],1)],1)])],1)}\nvar ChatPanel_staticRenderFns = []\nvar ChatPanel_esExports = { render: ChatPanel_render, staticRenderFns: ChatPanel_staticRenderFns }\n/* harmony default export */ var components_ChatPanel = (ChatPanel_esExports);\n// CONCATENATED MODULE: ./src/components/ChatPanel.vue\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"gUej\")\n}\nvar ChatPanel_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar ChatPanel___vue_template_functional__ = false\n/* styles */\nvar ChatPanel___vue_styles__ = injectStyle\n/* scopeId */\nvar ChatPanel___vue_scopeId__ = \"data-v-28f88c8d\"\n/* moduleIdentifier (server only) */\nvar ChatPanel___vue_module_identifier__ = null\nvar ChatPanel_Component = ChatPanel_normalizeComponent(\n  ChatPanel,\n  components_ChatPanel,\n  ChatPanel___vue_template_functional__,\n  ChatPanel___vue_styles__,\n  ChatPanel___vue_scopeId__,\n  ChatPanel___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_ChatPanel = (ChatPanel_Component.exports);\n\n// CONCATENATED MODULE: ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&index=0!./src/components/Rooms.vue\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ var Rooms = ({\n  data: function data() {\n    return {\n      my_rooms: [],\n      all_rooms: [],\n      new_room_name: '',\n      status: ''\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    localStorage.removeItem('current_room');\n    vue_esm[\"default\"].http.get('/v1/user/' + localStorage.getItem('userid')).then(function (res) {\n      if (res.data) {\n        _this.my_rooms = res.data.join_rooms;\n        _this.all_rooms = res.data.allrooms.map(function (room) {\n          return room._id;\n        });\n        localStorage.setItem('joined_rooms', _this.my_rooms);\n      }\n    }).catch(function (err) {\n      if (localStorage.getItem('joined_rooms')) {\n        _this.my_rooms = localStorage.getItem('joined_rooms');\n        console.log('load local');\n      }\n    });\n  },\n\n\n  methods: {\n    enter: function enter(roomid) {\n      localStorage.setItem('current_room', roomid);\n      this.$router.replace('/chat');\n    },\n    leave: function leave(roomid) {\n      var _this2 = this;\n\n      vue_esm[\"default\"].http.post('/v1/room', { action: 'leave', roomid: roomid, userid: localStorage.getItem('userid') }).then(function (res) {\n        if (res.body.roomid) {\n          var index = _this2.all_rooms.indexOf(roomid);\n          _this2.all_rooms.splice(index, 1);\n          if (res.body.roomid === 'room deleted') {\n            index = _this2.my_rooms.indexOf(roomid);\n            _this2.all_rooms.splice(index, 1);\n          }\n          if (localStorage.getItem('current_room') === roomid) {\n            localStorage.removeItem('current_room');\n          }\n        } else {\n          _this2.status = 'leave room failed';\n        }\n      });\n    },\n    join: function join(roomid) {\n      var _this3 = this;\n\n      vue_esm[\"default\"].http.post('/v1/room', { action: 'enter', roomid: roomid, userid: localStorage.getItem('userid') }).then(function (res) {\n        if (res.body.roomid) {\n          _this3.my_rooms.push(res.body.roomid);\n          localStorage.setItem('joined_rooms', _this3.my_rooms);\n        } else {\n          _this3.status = 'join new room failed';\n        }\n      });\n    },\n    onSubmit: function onSubmit() {\n      var _this4 = this;\n\n      vue_esm[\"default\"].http.post('/v1/room', { action: 'enter', roomid: null, userid: localStorage.getItem('userid') }).then(function (res) {\n        if (res.body.roomid) {\n          _this4.my_rooms.push(res.body.roomid);\n          _this4.all_rooms.push(res.body.roomid);\n          localStorage.setItem('joined_rooms', _this4.my_rooms);\n        } else {\n          _this4.status = 'enter new room failed';\n        }\n      });\n    }\n  }\n});\n// CONCATENATED MODULE: ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56bb29a4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Rooms.vue\nvar Rooms_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-container',[_c('el-aside',{attrs:{\"width\":\"200px\"}},[_c('el-form',{ref:\"form\"},[_vm._v(\"\\n        Create a new room\\n        \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Submit\")])],1)],1)],1),_vm._v(\" \"),_c('el-main',_vm._l((_vm.all_rooms),function(room){return _c('el-col',{key:room},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.my_rooms.indexOf(room) === -1},on:{\"click\":function($event){_vm.enter(room)}}},[_vm._v(_vm._s(room))]),_vm._v(\" \"),(_vm.my_rooms.indexOf(room) !== -1)?_c('el-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){_vm.leave(room)}}},[_vm._v(\"Leave Room\")]):_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":function($event){_vm.join(room)}}},[_vm._v(\"Join Room\")])],1)}))],1)],1)}\nvar Rooms_staticRenderFns = []\nvar Rooms_esExports = { render: Rooms_render, staticRenderFns: Rooms_staticRenderFns }\n/* harmony default export */ var components_Rooms = (Rooms_esExports);\n// CONCATENATED MODULE: ./src/components/Rooms.vue\nfunction Rooms_injectStyle (ssrContext) {\n  __webpack_require__(\"I2dU\")\n}\nvar Rooms_normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\nvar Rooms___vue_template_functional__ = false\n/* styles */\nvar Rooms___vue_styles__ = Rooms_injectStyle\n/* scopeId */\nvar Rooms___vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar Rooms___vue_module_identifier__ = null\nvar Rooms_Component = Rooms_normalizeComponent(\n  Rooms,\n  components_Rooms,\n  Rooms___vue_template_functional__,\n  Rooms___vue_styles__,\n  Rooms___vue_scopeId__,\n  Rooms___vue_module_identifier__\n)\n\n/* harmony default export */ var src_components_Rooms = (Rooms_Component.exports);\n\n// CONCATENATED MODULE: ./src/router/index.js\n\n\n\n\n\n\n\nvue_esm[\"default\"].use(vue_resource_es2015[\"a\" /* default */]);\nvue_esm[\"default\"].use(vue_router_esm[\"a\" /* default */]);\n\n/* harmony default export */ var router = (new vue_router_esm[\"a\" /* default */]({\n  mode: 'history',\n  routes: [{\n    path: '/',\n    name: 'HelloWorld',\n    component: src_components_HelloWorld,\n    beforeEnter: function beforeEnter(to, from, next) {\n      if (localStorage.getItem('userid')) next('/rooms');else next();\n    }\n  }, {\n    path: '/chat',\n    name: 'ChatPanel',\n    component: src_components_ChatPanel,\n    beforeEnter: function beforeEnter(to, from, next) {\n      if (!localStorage.getItem('userid')) next('/');\n      if (!localStorage.getItem('current_room')) next('/rooms');else next();\n    }\n  }, {\n    path: '/rooms',\n    name: src_components_Rooms,\n    component: src_components_Rooms,\n    beforeEnter: function beforeEnter(to, from, next) {\n      if (!localStorage.getItem('userid')) next('/');else next();\n    }\n  }]\n}));\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/element-ui.common.js\nvar element_ui_common = __webpack_require__(\"zL8q\");\nvar element_ui_common_default = /*#__PURE__*/__webpack_require__.n(element_ui_common);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/theme-chalk/index.css\nvar theme_chalk = __webpack_require__(\"tvR6\");\nvar theme_chalk_default = /*#__PURE__*/__webpack_require__.n(theme_chalk);\n\n// EXTERNAL MODULE: ./node_modules/element-ui/lib/locale/lang/en.js\nvar en = __webpack_require__(\"wUZ8\");\nvar en_default = /*#__PURE__*/__webpack_require__.n(en);\n\n// CONCATENATED MODULE: ./src/main.js\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n\n\n\n\nvue_esm[\"default\"].config.productionTip = false;\nvue_esm[\"default\"].use(element_ui_common_default.a, { locale: en_default.a });\n\n/* eslint-disable no-new */\nnew vue_esm[\"default\"]({\n  el: '#app',\n  router: router,\n  template: '<App/>',\n  components: { App: src_App }\n});\n\n/***/ }),\n\n/***/ \"gUej\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"tvR6\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.49e965a69f8895ff04d9.js","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28f88c8d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChatPanel.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChatPanel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28f88c8d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChatPanel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-28f88c8d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ChatPanel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-56bb29a4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Rooms.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Rooms.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-56bb29a4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Rooms.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Rooms.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <el-menu\n      mode=\"horizontal\"\n      background-color=\"#545c64\"\n      text-color=\"#fff\"\n      active-text-color=\"#ffd04b\">\n      <el-menu-item index=\"1\" v-on:click=\"logout\">Log Out</el-menu-item>\n    </el-menu>\n\n    <router-view/>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue'\n\n  export default {\n    name: 'app',\n    methods: {\n      logout() {\n        Vue.http.get('/auth/logout')\n          .then(res => {\n            if(res.body === 'logout success!'){\n              localStorage.removeItem('userid');\n              localStorage.removeItem('current_room');\n              localStorage.removeItem('joined_rooms');\n              this.$router.replace('/');\n            }\n            else {\n              console.log('logout failed!');\n            }\n          })\n      }\n    }\n  }\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('el-menu',{attrs:{\"mode\":\"horizontal\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"}},[_c('el-menu-item',{attrs:{\"index\":\"1\"},on:{\"click\":_vm.logout}},[_vm._v(\"Log Out\")])],1),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-399e026a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-399e026a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <el-row style=\"margin-top: 7%;\">\n    <el-col :span=\"8\" :offset=\"7\">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"120px\">\n        <el-form-item label=\"username\">\n          <el-input v-model=\"form.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"password\">\n          <el-input v-model=\"form.password\"></el-input>\n        </el-form-item>\n\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmit\">Login</el-button>\n          <el-button>Cancel</el-button>\n        </el-form-item>\n\n        <div>{{status}}</div>\n      </el-form>\n    </el-col>\n  </el-row>\n\n</template>\n\n<script>\n  import Vue from 'vue'\n\n  export default {\n    data() {\n      return {\n        status: '',\n        form: {\n          username: '',\n          password: '',\n        }\n      }\n    },\n    methods: {\n      onSubmit() {\n        Vue.http.post('/auth/login', {username: this.form.username, password: this.form.password})\n          .then((res) => {\n            if(res.body === 'login success'){\n              this.status = 'login success';\n              localStorage.setItem('userid', this.form.username);\n              this.$router.replace('/rooms');\n            }\n            else {\n              this.status = res.body;\n            }\n          });\n\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/HelloWorld.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{staticStyle:{\"margin-top\":\"7%\"}},[_c('el-col',{attrs:{\"span\":8,\"offset\":7}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"username\"}},[_c('el-input',{model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"password\"}},[_c('el-input',{model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Login\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"Cancel\")])],1),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.status))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3176a0f2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./HelloWorld.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3176a0f2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./HelloWorld.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/HelloWorld.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-row>\n      <el-col :span=\"22\">\n        <h4 style=\"text-align: left;\">\n          <i class=\"el-icon-star-on\"></i> {{current_room}} <i class=\"el-icon-star-on\"></i>\n        </h4>\n      </el-col>\n\n      <el-col :span=\"2\">\n        <el-button type=\"success\" @click=\"goRooms\" round>Go Back</el-button>\n      </el-col>\n    </el-row>\n\n\n    <el-table :data=\"msgs\" style=\"width: 100%\" :row-class-name=\"tableRowClassName\">\n      <el-table-column prop=\"who\" width=\"180\"></el-table-column>\n      <el-table-column prop=\"msg\"></el-table-column>\n    </el-table>\n\n    <el-row :gutter=\"20\">\n      <form ref=\"form\" id=\"fix-form\" v-on:submit.prevent=\"send(temp_msg)\">\n        <el-col :span=\"22\">\n          <el-input v-model=\"temp_msg\"></el-input>\n        </el-col>\n        <el-col :span=\"2\">\n          <el-button @click=\"send(temp_msg)\" round>Send</el-button>\n        </el-col>\n      </form>\n    </el-row>\n  </div>\n</template>\n\n<script>\n  import socketio from 'socket.io-client'\n\n\n  export default {\n    data() {\n      var socket = socketio('http://localhost:8080', {\n        query: {u: localStorage.getItem('userid'), r: localStorage.getItem('current_room')}\n      });\n\n      return {\n        socket: socket,\n        current_room: localStorage.getItem('current_room'),\n        msgs: [],\n        temp_msg: ''\n      }\n    },\n    created() {\n      this.socket.on('chat', (msg)=> {\n        this.msgs.push(msg);\n      });\n    },\n    methods: {\n      send(temp_msg) {\n        this.socket.emit('chat', temp_msg);\n        this.temp_msg = '';\n      },\n\n      tableRowClassName({row, rowIndex}) {\n        if(row.who === localStorage.getItem('userid')){\n          return 'your-word';\n        }\n        return '';\n      },\n\n      goRooms() {\n        this.socket.close();\n        this.$router.replace('/rooms');\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  .el-table .your-word {\n    background: #a0f9a0;\n  }\n  /** { margin: 0; padding: 0; box-sizing: border-box; }*/\n  /*body { font: 13px Helvetica, Arial; }*/\n  form { background: #000; padding: 3px; position: fixed; bottom: 0; width: 100%; }\n  /*form input { border: 0; padding: 10px; width: 90%; margin-right: .5%; }*/\n  /*form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }*/\n  /*#messages { list-style-type: none; margin: 0; padding: 0; }*/\n  /*#messages li { padding: 5px 10px; }*/\n  /*#messages li:nth-child(odd) { background: #eee; }*/\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/ChatPanel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-row',[_c('el-col',{attrs:{\"span\":22}},[_c('h4',{staticStyle:{\"text-align\":\"left\"}},[_c('i',{staticClass:\"el-icon-star-on\"}),_vm._v(\" \"+_vm._s(_vm.current_room)+\" \"),_c('i',{staticClass:\"el-icon-star-on\"})])]),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":_vm.goRooms}},[_vm._v(\"Go Back\")])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.msgs,\"row-class-name\":_vm.tableRowClassName}},[_c('el-table-column',{attrs:{\"prop\":\"who\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"msg\"}})],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":20}},[_c('form',{ref:\"form\",attrs:{\"id\":\"fix-form\"},on:{\"submit\":function($event){$event.preventDefault();_vm.send(_vm.temp_msg)}}},[_c('el-col',{attrs:{\"span\":22}},[_c('el-input',{model:{value:(_vm.temp_msg),callback:function ($$v) {_vm.temp_msg=$$v},expression:\"temp_msg\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":2}},[_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":function($event){_vm.send(_vm.temp_msg)}}},[_vm._v(\"Send\")])],1)],1)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28f88c8d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/ChatPanel.vue\n// module id = null\n// module chunks = ","<template>\n  <el-container>\n    <el-container>\n      <el-aside width=\"200px\">\n        <el-form ref=\"form\">\n          <!--<el-form-item label=\"new room name: \">-->\n            <!--<el-input v-model=\"new_room_name\"></el-input>-->\n          <!--</el-form-item>-->\n          Create a new room\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"onSubmit\">Submit</el-button>\n          </el-form-item>\n        </el-form>\n      </el-aside>\n\n      <el-main>\n        <el-col v-for=\"room in all_rooms\" :key=\"room\">\n          <el-button\n            type=\"primary\"\n            v-on:click=\"enter(room)\"\n            v-bind:disabled=\"my_rooms.indexOf(room) === -1\">{{room}}</el-button>\n\n          <el-button\n            type=\"danger\"\n            v-if=\"my_rooms.indexOf(room) !== -1\"\n            v-on:click=\"leave(room)\"\n            round>Leave Room</el-button>\n\n          <el-button\n            type=\"success\"\n            v-else\n            v-on:click=\"join(room)\"\n            round>Join Room</el-button>\n        </el-col>\n      </el-main>\n    </el-container>\n  </el-container>\n\n</template>\n\n<script>\n  import Vue from 'vue'\n\n  export default {\n    data () {\n      return {\n        my_rooms: [],\n        all_rooms: [],\n        new_room_name: '',\n        status: ''\n      }\n    },\n\n    mounted() {\n      localStorage.removeItem('current_room');\n      Vue.http.get('/v1/user/'+localStorage.getItem('userid'))\n        .then(res => {\n          if(res.data) {\n            this.my_rooms = res.data.join_rooms;\n            this.all_rooms = res.data.allrooms.map(room => room._id);\n            localStorage.setItem('joined_rooms', this.my_rooms);\n          }\n        })\n        .catch(err => {\n          if(localStorage.getItem('joined_rooms')){\n            this.my_rooms = localStorage.getItem('joined_rooms');\n            console.log('load local');\n          }\n        })\n    },\n\n    methods: {\n      enter(roomid) {\n        localStorage.setItem('current_room',roomid);\n        this.$router.replace('/chat');\n      },\n\n      leave(roomid) {\n        Vue.http.post('/v1/room', {action: 'leave', roomid: roomid, userid: localStorage.getItem('userid')})\n          .then(res => {\n            if(res.body.roomid){\n              var index = this.all_rooms.indexOf(roomid);\n              this.all_rooms.splice(index,1);\n              if(res.body.roomid === 'room deleted'){\n                index = this.my_rooms.indexOf(roomid);\n                this.all_rooms.splice(index,1);\n              }\n              if(localStorage.getItem('current_room') === roomid){\n                localStorage.removeItem('current_room');\n              }\n            }\n            else {\n              this.status = 'leave room failed';\n            }\n          })\n      },\n\n      join(roomid) {\n        Vue.http.post('/v1/room', {action: 'enter', roomid: roomid, userid: localStorage.getItem('userid')})\n          .then((res) => {\n            if(res.body.roomid){\n              this.my_rooms.push(res.body.roomid);\n              localStorage.setItem('joined_rooms', this.my_rooms);\n            }\n            else {\n              this.status = 'join new room failed';\n            }\n          })\n      },\n\n      onSubmit() {\n        Vue.http.post('/v1/room', {action: 'enter', roomid: null, userid: localStorage.getItem('userid')})\n          .then((res) => {\n            if(res.body.roomid){\n              this.my_rooms.push(res.body.roomid);\n              this.all_rooms.push(res.body.roomid);\n              localStorage.setItem('joined_rooms', this.my_rooms);\n            }\n            else {\n              this.status = 'enter new room failed';\n            }\n          });\n      },\n    }\n  }\n</script>\n\n<style>\n  .el-header, .el-footer {\n    background-color: #B3C0D1;\n    color: #333;\n    text-align: center;\n    line-height: 60px;\n  }\n\n  .el-aside {\n    background-color: #D3DCE6;\n    color: #333;\n    text-align: center;\n    line-height: 200px;\n  }\n\n  .el-main {\n    background-color: #E9EEF3;\n    color: #333;\n    text-align: center;\n    line-height: 160px;\n  }\n\n  body > .el-container {\n    margin-bottom: 40px;\n  }\n\n  .el-container:nth-child(5) .el-aside,\n  .el-container:nth-child(6) .el-aside {\n    line-height: 260px;\n  }\n\n  .el-container:nth-child(7) .el-aside {\n    line-height: 320px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Rooms.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',[_c('el-container',[_c('el-aside',{attrs:{\"width\":\"200px\"}},[_c('el-form',{ref:\"form\"},[_vm._v(\"\\n        Create a new room\\n        \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Submit\")])],1)],1)],1),_vm._v(\" \"),_c('el-main',_vm._l((_vm.all_rooms),function(room){return _c('el-col',{key:room},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.my_rooms.indexOf(room) === -1},on:{\"click\":function($event){_vm.enter(room)}}},[_vm._v(_vm._s(room))]),_vm._v(\" \"),(_vm.my_rooms.indexOf(room) !== -1)?_c('el-button',{attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":function($event){_vm.leave(room)}}},[_vm._v(\"Leave Room\")]):_c('el-button',{attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":function($event){_vm.join(room)}}},[_vm._v(\"Join Room\")])],1)}))],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-56bb29a4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Rooms.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport VueResource from 'vue-resource'\nimport Router from 'vue-router'\nimport HelloWorld from '../components/HelloWorld'\nimport ChatPanel from '../components/ChatPanel'\nimport Rooms from '../components/Rooms'\n\n\nVue.use(VueResource)\nVue.use(Router)\n\nexport default new Router({\n  mode: 'history',\n  routes: [\n    {\n      path: '/',\n      name: 'HelloWorld',\n      component: HelloWorld,\n      beforeEnter: (to, from, next) => {\n        if(localStorage.getItem('userid')) next('/rooms');\n        else next();\n      }\n    },\n    {\n      path: '/chat',\n      name: 'ChatPanel',\n      component: ChatPanel,\n      beforeEnter: (to, from, next) => {\n        if(!localStorage.getItem('userid')) next('/');\n        if(!localStorage.getItem('current_room')) next('/rooms');\n        else next();\n      }\n    },\n    {\n      path: '/rooms',\n      name: Rooms,\n      component: Rooms,\n      beforeEnter: (to, from, next) => {\n        if(!localStorage.getItem('userid')) next('/');\n        else next();\n      }\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport locale from 'element-ui/lib/locale/lang/en'\n\n\nVue.config.productionTip = false\nVue.use(ElementUI, {locale})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}